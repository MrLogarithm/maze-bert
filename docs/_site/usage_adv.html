<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Structure of maze automation | A-maze</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Structure of maze automation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Github pages site for A-maze." />
<meta property="og:description" content="Github pages site for A-maze." />
<link rel="canonical" href="http://localhost:4000/usage_adv.html" />
<meta property="og:url" content="http://localhost:4000/usage_adv.html" />
<meta property="og:site_name" content="A-maze" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Structure of maze automation","url":"http://localhost:4000/usage_adv.html","description":"Github pages site for A-maze.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=b4a913a9466ed5a63c57575890c30df0aef59e4c">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">A-maze</a></h1>
        
        

        <p>Github pages site for A-maze.</p>

        
        <p class="view"><a href="http://github.com/vboyce/Maze">View the Project on GitHub <small>vboyce/Maze</small></a></p>
        

        
         <p><b>Thought pages</b><br>
        <a href="http://localhost:4000/intro.html">What is A-maze?</a><br>
        <a href="http://localhost:4000/redo.html">An argument for 'redo' mode</a><br>
        <a href="http://localhost:4000/experiments.html">Experiment design</a><br>
        <p><b>Practical pages</b><br>
        <a href="http://localhost:4000/install.html">Install instructions</a><br>
        <a href="http://localhost:4000/usage_basic.html">Basic use</a><br>
        <a href="http://localhost:4000/parameters.html">Parameters</a><br>
        <a href="http://localhost:4000/usage_adv.html">Advanced options</a><br>
        <a href="http://localhost:4000/ibex.html">Using Ibex for Maze</a></p>
      </header>

      
      <section>
      <h1 id="structure-of-maze-automation">Structure of maze automation</h1>

<p>This is written with the assumption that you might be trying to mess with things or add new modules to maze automation.</p>

<p>Files and what they do:</p>
<ul>
  <li>distract.py is the commandline interface, and just wraps main.py</li>
  <li>
    <p>main.py: has function run_stuff that does everything</p>
  </li>
  <li>set_params.py reads in the parameter file</li>
  <li>input.py reads in the input file</li>
  <li>
    <p>output.py writes output to delim or ibex format</p>
  </li>
  <li>
    <p>sentence_set.py: has classes Sentence, label, and Sentence_Set, handles a lot of the organizational heavy lifting</p>
  </li>
  <li>distractor.py: has parent classes distractor and distractor_dict</li>
  <li>
    <p>wordfreq_distractor: has a general dictionary implementation that does length and frequency comparisons (and also also supplies related frequency and threshold functions); instantiated for English and French in two subclasses</p>
  </li>
  <li>lang_model.py: has parent class for language models</li>
  <li>gulordava.py: gulordava model subclass of lang_model</li>
  <li>
    <p>french.py: french model subclass of lang_model</p>
  </li>
  <li>utils: has arbitrary functions other files want</li>
</ul>

<h1 id="things-you-might-want-to-mess-with">Things you might want to mess with</h1>

<p>Some obvious steps to mess with:</p>
<ul>
  <li>The distractor word source and frequency information. It’s unclear how good wordfreq is, and you could definitely create a new subclass of distractor_dict. It would also want corresponding frequency and threshold functions.</li>
  <li>Change matching process. Similarly, better or different methods of finding distractors to test could surely be designed. You’d just need to sub out the threshold function (and maybe the dictionary if you want a more interactive search/back-off procedure.)</li>
  <li>Change the language model. Just made something that behaves similarly to the parent class/gulordava model. This should approximately just work for models that tokenize at approximately the word level (modulo a few stray multi-token words, punctuation, etc) and return a distribution over next tokens. The key point is that these “next tokens” need to include lots of whole words. (So, no BPE models, at least for now.)
(Digression: It’s probably possible to get this set up to deal with BPE models, but it would be non-trivial.)</li>
</ul>

<h1 id="adding-other-languages">Adding other languages</h1>

<p>It shouldn’t be hard to set up Maze to work for non-English languages. The hard part is finding/making a good language model. As a proof-of-concept, a set-up for French maze is provided.</p>

<p>The key things to consider are:</p>
<ul>
  <li>Distractor words and frequencies – for French, we use wordfreq, and only allow words in the model vocabulary; however, the exclude list hasn’t been populated because my French isn’t very good. Similar to with English, we use a regex to exclude words with numbers or punctuation, but for French we enumerate a list of acceptable accented characters.</li>
  <li>What features of distractors should be post-matched to correct words. (Depending on language, it may or may not be appropriate to match capitalization.)</li>
  <li>Interfacing with the language model. You may need to deal with tokenization. (the French model uses an lstm with similar architecture to the gulordava model, so the interfacing is similar.)</li>
</ul>

<h1 id="alternatives-to-ibex">Alternatives to Ibex</h1>

<p>It might be desirable to run A-maze experiments on a platform other than Ibex that is more up to date or familiar. It should be relatively easy to implement the Maze task on other frameworks that do reaction time measurements especially if they’re already set up for SPR.</p>

<p><em>If you do fix bugs, add new features, or new languages; please submit pull requests!</em></p>


      </section>
      <footer>
        
        <p>This project is maintained by <a href="http://github.com/vboyce">vboyce</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
  </body>
</html>
